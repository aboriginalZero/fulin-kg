## 数据系统基础

### 系统特点

1. 可靠性

    容忍硬件、软件失效，人为错误。

    硬件故障如硬盘崩溃、内存故障、电网停电、误拔网线，可以通过磁盘配置 RAID、服务器配备双电源等方式来预防。

    软件错误如进程使用某些共享资源如 CPU、内存、磁盘或网络带宽，但却失控。

2. 可扩展性

    评测负载与性能、延迟百分位数、吞吐量

    1. 系统负载增加，但系统资源（如 CPU、内存、磁盘或网络带宽）保持不变，性能会发生什么变化？
    2. 负载增加，如果要保持性能不变，需要增加多少资源？

    即使是相同的请求发到同一个服务上，也可能会由于其他变量因素如上下文切换、进程调度、网络数据包丢失、TCP 重传、垃圾回收暂停、缺页中断、磁盘 IO、甚至是服务器机架的机械振动而引入一些随机延迟抖动

    百分位数通常用于描述服务质量协议（SLA） 若 99.9 百分位数响应时间为 1.5s，这意味着 1000 个请求中的 999 个请求快于 1.5s，而 1 个请求则需要慢于 1.5s。

3. 可维护性

    可运维、简单与可演化性

    要有兜底机制，比如 internal flow ctrl 尽管预期他不会有一直阻塞的情况，但考虑到人为的 bug 错误，还是有必要引入超时机制来兜底，另外需要支持关键参数的静态/动态修改，以方便在客户环境不换 rpm / 重启进程的情况下变更系统行为方式。

### 数据模型与查询语言